<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Timeo - Time Tracking</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="/static/css/style.css" />
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        colors: {
                            "dark-primary": "#1a1a1a",
                            "dark-secondary": "#2a2a2a",
                            "dark-tertiary": "#333333",
                            "accent-purple": "#a855f7",
                        },
                    },
                },
            };
        </script>
    </head>
    <body class="flex h-screen bg-dark-primary text-gray-100">
        <!-- Sidebar -->
        <div
            class="sidebar w-64 bg-dark-secondary shadow-lg flex flex-col border-r border-gray-600"
        >
            <h1
                class="text-2xl font-bold text-center p-4 border-b border-gray-600 text-accent-purple bg-dark-tertiary"
            >
                ‚è±Ô∏è Timeo
            </h1>
            <nav class="flex-1 p-4">
                <ul class="space-y-2">
                    <li>
                        <button
                            onclick="showSection('home')"
                            class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-700 transition-all duration-200 text-gray-300 hover:text-white font-medium"
                        >
                            üè† Home
                        </button>
                    </li>
                    <li>
                        <button
                            onclick="showSection('projects')"
                            class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-700 transition-all duration-200 text-gray-300 hover:text-white font-medium"
                        >
                            üìÅ Projects
                        </button>
                    </li>
                    <li>
                        <button
                            onclick="showSection('timer')"
                            class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-700 transition-all duration-200 text-gray-300 hover:text-white font-medium"
                        >
                            ‚è≤Ô∏è Timer
                        </button>
                    </li>
                    <li>
                        <button
                            onclick="showSection('goals')"
                            class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-700 transition-all duration-200 text-gray-300 hover:text-white font-medium"
                        >
                            üéØ Goals
                        </button>
                    </li>
                    <li>
                        <button
                            onclick="showSection('report')"
                            class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-700 transition-all duration-200 text-gray-300 hover:text-white font-medium"
                        >
                            üìä Reports
                        </button>
                    </li>
                </ul>
            </nav>
            <div class="p-4 border-t border-gray-600">
                <div class="text-xs text-gray-500 text-center">
                    Built with ‚ù§Ô∏è for productivity
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content flex-1 overflow-auto">
            <!-- Home Section -->
            <div id="home" class="section p-8">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold mb-2 text-white">
                        Welcome back! üëã
                    </h2>
                    <p class="text-gray-400">
                        Here's your productivity overview
                    </p>
                </div>

                <!-- Today's Goals & Streaks -->
                <div class="mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <h3
                            class="text-xl font-semibold text-white flex items-center gap-2"
                        >
                            üî• Today's Goals & Streaks
                        </h3>
                        <button
                            onclick="refreshHomeData()"
                            class="btn-secondary px-4 py-2 rounded-lg text-sm font-medium transition-all"
                        >
                            üîÑ Refresh
                        </button>
                    </div>
                    <div id="home_goals" class="grid gap-4">
                        <!-- Goals will be loaded here -->
                    </div>
                </div>

                <!-- Last 7 Days Overview -->
                <div class="mb-8">
                    <div class="flex justify-between items-center mb-6">
                        <h3
                            class="text-xl font-semibold text-white flex items-center gap-2"
                        >
                            üìÖ Last 7 Days Overview
                        </h3>
                    </div>
                    <div id="last_7_days" class="space-y-4">
                        <!-- Data will be loaded by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Projects Section -->
            <div id="projects" class="section hidden p-8">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold mb-2 text-white">
                        üìÅ Projects
                    </h2>
                    <p class="text-gray-400">Manage your work projects</p>
                </div>

                <!-- Add Project Form -->
                <div class="card p-6 mb-6">
                    <h3
                        class="font-semibold mb-4 text-white flex items-center gap-2"
                    >
                        ‚ûï Add New Project
                    </h3>
                    <div class="flex gap-3">
                        <input
                            type="text"
                            id="project_name_input"
                            placeholder="Enter project name..."
                            class="flex-1 bg-dark-tertiary border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:border-accent-purple focus:ring-2 focus:ring-accent-purple/20"
                        />
                        <button
                            onclick="addProject()"
                            class="btn-success px-6 py-3 rounded-lg font-medium whitespace-nowrap"
                        >
                            Add Project
                        </button>
                    </div>
                </div>

                <!-- Projects List -->
                <div class="card">
                    <div class="p-6 border-b border-gray-600">
                        <h3 class="font-semibold text-white">
                            üìã Projects List
                        </h3>
                    </div>
                    <div id="projects_list" class="divide-y divide-gray-600">
                        <!-- Projects will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Timer Section -->
            <div id="timer" class="section hidden p-8">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold mb-2 text-white">‚è≤Ô∏è Timer</h2>
                    <p class="text-gray-400">Track your time efficiently</p>
                </div>

                <!-- Timer Controls -->
                <div class="card p-6 mb-6">
                    <div class="flex flex-wrap gap-4 items-end">
                        <div class="flex-1 min-w-48">
                            <label
                                class="block text-sm font-medium text-gray-300 mb-2"
                                >Project</label
                            >
                            <select
                                id="timer_project_select"
                                class="w-full bg-dark-tertiary border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-accent-purple focus:ring-2 focus:ring-accent-purple/20"
                            >
                                <option value="">Select a project</option>
                            </select>
                        </div>
                        <div class="flex-1 min-w-48">
                            <label
                                class="block text-sm font-medium text-gray-300 mb-2"
                                >Task Description</label
                            >
                            <input
                                type="text"
                                id="timer_description"
                                placeholder="What are you working on?"
                                class="w-full bg-dark-tertiary border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:border-accent-purple focus:ring-2 focus:ring-accent-purple/20"
                            />
                        </div>
                        <div class="flex gap-3">
                            <button
                                id="start_btn"
                                class="btn-success px-6 py-3 rounded-lg font-medium flex items-center gap-2"
                                onclick="startTimer()"
                            >
                                ‚ñ∂Ô∏è Start
                            </button>
                            <button
                                id="stop_btn"
                                class="btn-danger px-6 py-3 rounded-lg font-medium flex items-center gap-2"
                                onclick="stopTimer()"
                            >
                                ‚èπÔ∏è Stop
                            </button>
                        </div>
                    </div>

                    <!-- Active Timer Display -->
                    <div
                        id="active_project_name"
                        class="hidden mt-6 p-6 bg-green-600 text-white rounded-lg font-semibold active-timer"
                    >
                        <!-- Active timer info will be displayed here -->
                    </div>
                </div>

                <!-- Recent Timers Section -->
                <div class="card">
                    <div class="p-6 border-b border-gray-600">
                        <h3
                            class="font-semibold text-lg text-white flex items-center gap-2"
                        >
                            üìù Today's Completed Timers
                        </h3>
                    </div>
                    <div id="recent_timers" class="p-6">
                        <!-- Recent timers will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Goals Section -->
            <div id="goals" class="section hidden p-8">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold mb-2 text-white">üéØ Goals</h2>
                    <p class="text-gray-400">
                        Set and track your daily objectives
                    </p>
                </div>

                <!-- Add Goal Form -->
                <div class="card p-6 mb-6">
                    <h3
                        class="font-semibold mb-4 text-white flex items-center gap-2"
                    >
                        üéØ Add New Goal
                    </h3>
                    <div class="flex flex-wrap gap-3">
                        <div class="flex-1 min-w-48">
                            <select
                                id="goal_project_select"
                                class="w-full bg-dark-tertiary border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-accent-purple focus:ring-2 focus:ring-accent-purple/20"
                            >
                                <option value="">Select a project</option>
                            </select>
                        </div>
                        <div class="flex-1 min-w-32">
                            <input
                                type="number"
                                id="goal_minutes"
                                placeholder="Target Minutes"
                                step="15"
                                min="15"
                                class="w-full bg-dark-tertiary border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:border-accent-purple focus:ring-2 focus:ring-accent-purple/20"
                            />
                        </div>
                        <button
                            onclick="addGoal()"
                            class="btn-success px-6 py-3 rounded-lg font-medium whitespace-nowrap"
                        >
                            Add Goal
                        </button>
                    </div>
                </div>

                <!-- Goals List -->
                <div class="card">
                    <div class="p-6 border-b border-gray-600">
                        <h3 class="font-semibold text-white">üìã Goals List</h3>
                    </div>
                    <div id="goals_list" class="divide-y divide-gray-600">
                        <!-- Goals will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Report Section -->
            <div id="report" class="section hidden p-8">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold mb-2 text-white">
                        üìä Advanced Reports
                    </h2>
                    <p class="text-gray-400">
                        Analyze your productivity patterns
                    </p>
                </div>

                <!-- Report Controls -->
                <div class="card p-6 mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div>
                            <label
                                class="block text-sm font-medium text-gray-300 mb-2"
                                >Report Type</label
                            >
                            <select
                                id="reportType"
                                class="w-full bg-dark-tertiary border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-accent-purple"
                                onchange="loadReport()"
                            >
                                <option value="overview">Overview</option>
                                <option value="daily">Daily</option>
                                <option value="weekly">Weekly</option>
                                <option value="monthly">Monthly</option>
                            </select>
                        </div>
                        <div>
                            <label
                                class="block text-sm font-medium text-gray-300 mb-2"
                                >Project Filter</label
                            >
                            <select
                                id="projectFilter"
                                class="w-full bg-dark-tertiary border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-accent-purple"
                                onchange="loadReport()"
                            >
                                <option value="">All Projects</option>
                            </select>
                        </div>
                        <div>
                            <label
                                class="block text-sm font-medium text-gray-300 mb-2"
                                >Limit</label
                            >
                            <select
                                id="reportLimit"
                                class="w-full bg-dark-tertiary border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-accent-purple"
                                onchange="loadReport()"
                            >
                                <option value="7">Last 7</option>
                                <option value="14">Last 14</option>
                                <option value="30" selected>Last 30</option>
                                <option value="60">Last 60</option>
                                <option value="90">Last 90</option>
                            </select>
                        </div>
                        <div class="flex items-end">
                            <button
                                onclick="exportReport()"
                                class="btn-primary w-full px-4 py-3 rounded-lg font-medium flex items-center justify-center gap-2"
                            >
                                üì• Export CSV
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Report Summary -->
                <div
                    id="reportSummary"
                    class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"
                >
                    <!-- Summary cards will be populated by JavaScript -->
                </div>

                <!-- Report Chart -->
                <div class="card p-6 mb-6">
                    <div class="chart-container">
                        <canvas id="reportChart"></canvas>
                    </div>
                </div>

                <!-- Report Data Table -->
                <div class="card">
                    <div class="p-6 border-b border-gray-600">
                        <h3 class="font-semibold text-white">
                            üìã Detailed Data
                        </h3>
                    </div>
                    <div id="reportTable" class="p-6">
                        <!-- Table will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Scripts -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script>
            // Configure Chart.js for dark theme
            Chart.defaults.color = "#e8e8e8";
            Chart.defaults.borderColor = "#404040";
            Chart.defaults.backgroundColor = "rgba(168, 85, 247, 0.1)";
        </script>
        <script src="/static/js/script.js"></script>
    </body>
</html>
